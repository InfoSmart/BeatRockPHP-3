<?php####################################################### 					 BeatRock				   	   ######################################################### Framework avanzado de procesamiento para PHP.   ######################################################### InfoSmart  2012 Todos los derechos reservados. #### http://www.infosmart.mx/						   ######################################################### http://beatrock.infosmart.mx/				   #######################################################// Accin ilegal.if(!defined('BEATROCK'))	exit;	class Codes{	public static $codes = Array();		// Funcin - Registrar un cdigo de error.	// - $code: Cdigo del error.	// - $data (Array): Detalles del cdigo de error.	public static function RegisterCode($code, $data)	{		if(empty($data['title']) OR empty($data['details']))			return;					foreach($data as $param => $value)			self::$codes[$code][$param] = $value;	}		// Funcin - Registrar cdigos de error de BeatRock.	public static function LoadCodes()	{		$cache = Mem::Get("error_codes");		if($cache !== false)			return self::LoadInfo();		/* Errores Principales */				self::registerCode('000', Array(			'title' => 'Error de ejemplo', 			'details' => 'Esto es un ejemplo de un error en BeatRock.'		));		self::registerCode('01x', Array(			'title' => 'PHP - Problema de ejecucin', 			'details' => 'Al parecer no se ha podido ejecutar el cdigo o parte del mismo de esta pgina, suele ocacionarse generalmente por cdigo mal escrito o falta de recursos en el servidor web. Solo un ingeniero puede solucionar este problema.'		));		self::registerCode('02x', Array(			'title' => 'Setup - Fallo en la verificacin inicial', 			'details' => 'No se ha podido completar la verificacin inicial del Kernel.'		));		self::registerCode('03x', Array(			'title' => 'Setup - Fallo en el archivo de configuracin', 			'details' => 'Al parecer ha habido un problema al tratar de cargar el archivo de configuracin correctamente.',			'solution' => 'Verifique que el archivo de configuracin exista, no este protegido o daado, de otra forma ejecute nuevamente la instalacin.'		));		self::registerCode('04x', Array(			'title' => 'BitRock - Falla en la carga del mdulo', 			'details' => 'No se ha podido cargar el mdulo especificado correctamente.',			'solution' => 'Verifique que el mdulo exista, no este protegido ni daado.'		));				/* Errores de PHP */				self::registerCode('01e', Array(			'title' => 'PHP - Ha ocurrido una excepcin', 			'details' => 'Se ha lanzado una excepcin en el cdigo.'		));				/* Errores de MySQL */				self::registerCode('01m', Array(			'title' => 'MySQL - Error de conexin', 			'details' => 'No se ha podido establecer una conexin con el servidor MySQL.',			'solution' => 'Verifique que los datos de conexin sean vlidos y que el servidor se encuentre encendido.'		));		self::registerCode('02m', Array(			'title' => 'MySQL - Es necesario una conexin activa',			'details' => 'Se ha intentado realizar una funcin que requiere una conexin activa al servidor MySQL.',			'solution' => 'Debido a que BeatRock realiza una conexin al iniciar este error se considera raro. Es probable que su copia de BeatRock se encuentre modificada o daada.'					));		self::registerCode('03m', Array(			'title' => 'MySQL - Fallo en la ejecucin de una consulta',			'details' => 'No se ha podido ejecutar una consulta en el servidor MySQL.',			'solution' => 'Verifique que ha escrito la consulta correctamente, la tabla, columnas y filas adems de no introducir caracteres especiales o intentos de inyeccin SQL.'		));		self::registerCode('04m', Array(			'title' => 'MySQL - Fallo en la ejecucin de una funcin',			'details' => 'No se ha podido ejecutar la funcin debido a que faltan datos.',			'solution' => 'Esta funcin requiere de un recurso SQL activo, para ello debe especificar el recurso o realizar una consulta antes.'		));		self::registerCode('05m', Array(			'title' => 'MySQL - Motor no vlido',			'details' => 'Ha indicado un motor no vlido o recomendado por BeatRock para el cambio de sus tablas.',			'solution' => 'Especifique MYISAM o INNODB escritas en maysculas.'		));		self::registerCode('06m', Array(			'title' => 'MySQL - Falla al cargar o recuperar la base de datos',			'details' => 'Ha ocurrido un error al intentar cargar o restaurar la base de datos.',			'solution' => 'No ha sido posible encontrar la base de datos, si tiene activado el sistema de recuperacin avanzada ha ocurrido un error al intentar restaurar la base de datos.'		));		self::registerCode('07m', Array(			'title' => 'MySQL - Consulta invlida',			'details' => 'No se ha podido ejecutar una accin especial para una consulta debido a que es invlida.',			'solution' => 'Verifique que la consulta que desea ejecutar sea vlida para la accin, generalmente estas acciones solo soportan consultas de tipo "SELECT".'		));				/* Errores de FTP */				self::registerCode('01f', Array(			'title' => 'FTP - Instancia no preparada', 			'details' => 'Se ha intentado ejecutar una funcin sin tener una instancia de conexin preparada.',			'solution' => 'Ajuste una conexin FTP antes con la funcin "Init".'		));		self::registerCode('02f', Array(			'title' => 'FTP - Fallo en la conexin', 			'details' => 'No se ha podido establecer una conexin con el servidor FTP.',			'solution' => 'Verifique que los datos de conexin sean vlidos y que el servidor se encuentre encendido.'		));				/* Errores de IO */				self::registerCode('11i', Array(			'title' => 'IO - Fallo en el sistema de archivos de entrada y salida', 			'details' => 'Ha ocurrido un error relacionado a la escritura o lectura de un archivo interno/externo.',			'solution' => 'Verifique que el archivo tenga permisos necesarios para la operacin, exista y no se encuentre daado.'		));				/* Errores de Gd */				self::registerCode('01g', Array(			'title' => 'Gd - Fallo en la verificacin de tipo', 			'details' => 'No se ha podido detectar el tipo de imagen a trabajar, verifique que el archivo de imagen sea correcto.'		));				/* Errores de Curl */				self::registerCode('01c', Array(			'title' => 'Curl - Instancia no preparada', 			'details' => 'Se ha intentado ejecutar una funcin sin tener una instancia de conexin preparada.',			'solution' => 'Ajuste una conexin cURL antes con la funcin "Init".'		));				/* Errores de Plantilla */				self::registerCode('01t', Array(			'title' => 'TPL - Fallo en la plantilla', 			'details' => 'Ha ocurrido un problema al intentar preparar una plantilla, suele ocacionarse cuando la misma esta daada, protegida o no existe.',			'solution' => 'Revisa que la plantilla exista y no este protegido o daado.'		));		self::registerCode('02t', Array(			'title' => 'TPL - Fallo al cargar archivos necesarios', 			'details' => 'No ha sido posible cargar el/los archivo(s) interno(s) (Cabecera, subcabecera o pie de pgina) correctamente, suele ocacionarse cuando la misma esta daada, protegida o no existe.',			'solution' => 'Revisa que los archivos existan y no esten protegidos o daados.'		));						/* Errores de Query */				self::registerCode('01q', Array(			'title' => 'Query - Fallo en la preparacin de una consulta', 			'details' => 'Se ha intentado ejecutar una funcin de implementacin a la consulta pero la instancia de la misma no es vlida o no ha sido preparada.',			'solution' => 'Verifique que ha preparado una instancia de consulta anteriormente por medio de las funciones "Select" o "Update". La instancia "Insert" no es vlida en esta funcin.',		));		self::registerCode('02q', Array(			'title' => 'Query - Fallo en la ejecucin de la consulta', 			'details' => 'Se ha intentado ejecutar una instancia de consulta cuando la misma no ha sido preparada.',			'solution' => 'Verifique que ha preparado una instancia de consulta anteriormente por medio de las funciones "Select", "Update" o "Insert".'		));				/* Errores de Socket */				self::registerCode('01s', Array(			'title' => 'Socket - Fallo en la creacin del Socket', 			'details' => 'Ha ocurrido un error al intentar crear un socket para BeatRock.',			'solution' => 'Verifique que tanto la aplicacin como PHP tengan los permisos necesarios para crear un Socket en el sistema operativo, tambin verifique que la lbreria de Socket de su sistema no se encuentre daado.',		));				self::registerCode('02s', Array(			'title' => 'Socket - Fallo en la conexin', 			'details' => 'No se ha podido establecer una conexin correcta con el Host y el puerto especificado o para la escucha de nuevas conexiones.',			'solution' => 'Verique que el hosting con el puerto se encuentren libres y acepten conexiones.',		));		self::registerCode('03s', Array(			'title' => 'Socket - Instancia no preparada', 			'details' => 'Se ha intentado ejecutar una funcin sin tener una instancia de conexin preparada.',			'solution' => 'Realize una conexin Socket antes con la funcin "Connect".',		));		self::registerCode('04s', Array(			'title' => 'Socket - Fallo en la conexin', 			'details' => 'No se ha podido enviar o recibir datos de la conexin Socket.'		));				/* Errores de API Sociales */				self::registerCode('11s', Array(			'title' => 'Social - Fallo en la preparacin de una instancia',			'details' => 'Ha ocurrido un error al intentar preparar una instancia para la conexin con una API social.'		));				self::registerCode('12s', Array(			'title' => 'Social - Servicio invlido',			'details' => 'El servicio a usar para la obtencin de datos del usuario no es vlido.',			'solution' => 'Verifique que el servicio a usar es por ejemplo: facebook o twitter.'		));		self::registerCode('13s', Array(			'title' => 'Social - Instancia no preparada',			'details' => 'Se ha intentado conectar a un servicio social sin los datos de permiso de aplicacin.',			'solution' => 'Registre su aplicacin en la pgina de desarrolladores del servicio que desea usar y ajuste los datos de permiso de aplicacin.'		));		/* Errores MemCache */		self::registerCode('11m', Array(			'title' => 'MemCache - Error de conexin',			'details' => 'No se ha podido establecer una conexin con el servidor Memcache.',			'solution' => 'Verifique que los datos de conexin sean vlidos y que el servidor se encuentre encendido.'		));		self::registerCode('11m', Array(			'title' => 'MemCache - Error de guardado.',			'details' => 'No se ha podido guardar los datos en el servidor Memcache.'		));		self::registerCode('13m', Array(			'title' => 'MemCahe - Es necesario una conexin activa',			'details' => 'Se ha intentado realizar una funcin que requiere una conexin activa al servidor Memcache.',			'solution' => 'Debido a que BeatRock realiza una conexin al iniciar este error se considera raro. Es probable que su copia de BeatRock se encuentre modificada o daada.'					));		/* Cach */		Mem::Set("error_codes", self::$codes);			}	// Funcin - Obtener los cdigos en Cach.	public static function LoadInfo()	{		$cache = Mem::Get("error_codes");		if($cache == false)			return;		self::$codes = $cache;	}		// Funcin - Obtener la informacin de un cdigo de error.	// - $code: Cdigo de error.	public static function GetInfo($code)	{		// Obtener la variable con la informacin.		$result = self::$codes[$code];				// Al parecer esta vacia: No registrado!		if(!is_array($result) OR empty($result))		{			$result['title'] = 'Error desconocido';			$result['details'] = 'Al parecer este cdigo de error no esta registrado y no hay ms informacin acerca de el.';		}						return $result;	}}?>